<div class="container-fluid">
  <div class="row">
    <div class="col-md-3 p-0">
      <app-menu-lateral></app-menu-lateral>
    </div>

    <div class="col-md-7 pl-md-3 mt-4 mb-4 mx-auto">

      <div class="card shadow">

        <div class="card-header text-center">
          <h2 class="text-center">Atualizar informações do usuário</h2>
        </div>

        <div class="card-body">
          <form
          class="mx-auto mt-2"
          style="max-width: 600px"
          (submit)="atualizarUsuario()"
        >
          <div class="form-group mt-2">
            <label for="nome">Nome:</label>
            <input
              class="form-control"
              type="text"
              name="nome"
              [(ngModel)]="usuario.nome_completo"
              required
              #nome="ngModel"
              [ngClass]="{
                'is-invalid': nome.invalid && (nome.dirty || nome.touched)
              }"
            />
            <div class="invalid-feedback">Campo obrigatório.</div>
          </div>

          <div class="form-group mt-2">
            <label for="email">Email:</label>
            <input
              class="form-control"
              type="text"
              name="email"
              [(ngModel)]="usuario.email"
              required
              #email="ngModel"
              [ngClass]="{
                'is-invalid': email.invalid && (email.dirty || email.touched)
              }"
            />
            <div class="invalid-feedback">Campo obrigatório.</div>
          </div>

          <div class="form-group mt-2">
            <label for="telefone">Whatsapp</label>
            <input
              class="form-control"
              type="text"
              name="telefone"
              [(ngModel)]="usuario.telefone"
              required
              #telefone="ngModel"
              [ngClass]="{
                'is-invalid': telefone.invalid && (telefone.dirty || telefone.touched)
              }"
            />
            <div class="invalid-feedback">Campo obrigatório.</div>
          </div>



          <div class="form-group mt-2">
            <label for="cpf">CPF</label>
            <input
              class="form-control"
              type="text"
              name="cpf"
              [ngModel]="usuario.cpf"
              (ngModelChange)="usuario.cpf = removeFormatacaoCpf($event)"
              required
              #cpf="ngModel"
              [ngClass]="{
                'is-invalid': cpf.invalid && (cpf.dirty || cpf.touched)
              }"
            />
            <div class="invalid-feedback">Campo obrigatório.</div>
          </div>

          <div class="form-group mt-2">
            <label for="pergunta_secreta">Pergunta Secreta:</label>
            <select class="form-control"
            name="pergunta_secreta"
            [(ngModel)]="usuario.pergunta_secreta"
            [ngModel]="usuario.pergunta_secreta"
            (ngModelChange)="usuario.pergunta_secreta"
            required
            #pergunta_secreta="ngModel">
              <option value="">Escolha uma pergunta secreta</option>
              <option value="Qual é o nome do seu melhor amigo de infância?">Qual é o nome do seu melhor amigo de infância?</option>
              <option value="Qual é o nome da cidade onde você nasceu?">Qual é o nome da cidade onde você nasceu?</option>
              <option value="Qual é o nome do seu primeiro animal de estimação?">Qual é o nome do seu primeiro animal de estimação?</option>
              <option value="Qual é o nome da rua onde você morava na infância?">Qual é o nome da rua onde você morava na infância?</option>
              <option value="Qual é o nome da sua escola primária?">Qual é o nome da sua escola primária?</option>
              <option value="Qual é o nome do seu avô paterno?">Qual é o nome do seu avô paterno?</option>
              <option value="Qual é o nome do seu time esportivo favorito?">Qual é o nome do seu time esportivo favorito?</option>
              <option value="Qual é o nome do seu personagem favorito de um livro ou filme?">Qual é o nome do seu personagem favorito de um livro ou filme?</option>
              <option value="Qual é o nome do primeiro carro que você dirigiu?">Qual é o nome do primeiro carro que você dirigiu?</option>
              <option value="Qual é o nome do seu restaurante favorito?">Qual é o nome do seu restaurante favorito?</option>
            </select>
          </div>

          <div class="form-group mt-2">
            <label for="rs">Resposta Secreta</label>
            <input
              class="form-control"
              type="text"
              name="rs"
              [(ngModel)]="usuario.resposta_secreta"
              [ngModel]="usuario.resposta_secreta"
              (ngModelChange)="usuario.resposta_secreta"
              required
              #rs="ngModel"
              [ngClass]="{
                'is-invalid': rs.invalid && (rs.dirty || rs.touched)
              }"
            />
            <div class="invalid-feedback">Campo obrigatório.</div>
          </div>

          <div class="form-check mt-4">
            <input
              class="form-check-input custom-control-input"
              type="checkbox"
              id="admin"
              name="admin"
              [(ngModel)]="usuario.admin"
            />
            <label class="form-check-label custom-control-label" for="admin"
              >Admin</label
            >
          </div>

          <button type="submit" class="btn btn-primary mt-4 mb-4">
            Atualizar
          </button>

          <div
            *ngIf="mensagem"
            class="alert alert-dismissible fade show"
            [ngClass]="{
              'alert-success': tipoMensagem === 'success',
              'alert-danger': tipoMensagem === 'danger'
            }"
            role="alert"
          >
            <span>{{ mensagem }}</span>
          </div>
        </form>
        </div>
      </div>

    </div>
  </div>
</div>
